(this["webpackJsonpwheres-waldo"]=this["webpackJsonpwheres-waldo"]||[]).push([[0],{43:function(e,t,n){},44:function(e,t,n){"use strict";n.r(t);var c=n(9),r=n.n(c),a=n(34),o=n.n(a),i=n(35),d={apiKey:"AIzaSyD9gc6CERvp2Arq5QmTe12IWdvDha0F5Yo",authDomain:"where-s-waldo-e5ad3.firebaseapp.com",projectId:"where-s-waldo-e5ad3",storageBucket:"where-s-waldo-e5ad3.appspot.com",messagingSenderId:"925971963151",appId:"1:925971963151:web:53e1d7d8f654add671727a"};var s=n(23),u=n(12),b=n(10),l=function(){return Object(b.jsxs)("div",{id:"header",children:[Object(b.jsx)("h1",{id:"header-title",children:Object(b.jsx)(s.b,{to:"/",children:"Where's Waldo?"})}),Object(b.jsx)("h3",{id:"header-leaderboard",children:Object(b.jsx)(s.b,{to:"/leaderboard",children:"Leaderboard"})})]})},j=function(){return Object(b.jsxs)("div",{id:"footer",children:["Created through\xa0",Object(b.jsx)("a",{href:"https://www.theodinproject.com",children:"TheOdinProject"}),"\xa0online course."]})},m=n.p+"static/media/cover.4d907f48.jpg",f=function(){return Object(b.jsxs)("div",{id:"home",children:[Object(b.jsx)("img",{id:"cover",src:m,alt:""}),Object(b.jsx)("div",{id:"play-btn",children:Object(b.jsx)(s.b,{to:"/game",children:"Play Game"})})]})},O=n(0),h=n.n(O),p=n(1),x=n(11),v=n(13),g=n(31),y=function(e){e=parseInt(e,10);var t=Math.floor(e/3600),n=Math.floor((e-3600*t)/60),c=e-3600*t-60*n;return t<10&&(t="0"+t),n<10&&(n="0"+n),c<10&&(c="0"+c),n+":"+c},w=function(e){var t=e.elapsedTime,n=Object(c.useState)(!1),r=Object(x.a)(n,2),a=r[0],o=r[1],i=Object(c.useState)(""),d=Object(x.a)(i,2),s=d[0],u=d[1],l=Object(c.useState)(!1),j=Object(x.a)(l,2),m=j[0],f=j[1],O=Object(c.useState)(!1),w=Object(x.a)(O,2),E=w[0],I=w[1];Object(c.useEffect)((function(){var e=function(){var e=Object(p.a)(h.a.mark((function e(t){var n,c,r,a,o,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=!1,c=10,r=Object(v.g)(),a=Object(v.b)(r,"scores"),o=Object(v.j)(a,Object(v.i)("score"),Object(v.h)(c)),e.next=8,Object(v.f)(o);case 8:return(i=e.sent).docs.length<c?n=!0:i.forEach((function(e){t<e.data().score&&(n=!0)})),e.abrupt("return",!!n);case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}();Object(p.a)(h.a.mark((function n(){return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e(t);case 2:if(!n.sent){n.next=4;break}o(!0);case 4:case"end":return n.stop()}}),n)})))()}));var k=function(){var e=Object(p.a)(h.a.mark((function e(){var n,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{n=Object(v.g)(),c=Object(g.a)(),Object(g.b)(c).then(Object(p.a)(h.a.mark((function e(){var c,r,a,o,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=10,r=Object(v.b)(n,"scores"),a=Object(v.j)(r,Object(v.i)("score"),Object(v.h)(c)),e.next=5,Object(v.f)(a);case 5:return o=e.sent,i=0,o.forEach((function(e){i===c-1&&Object(v.c)(Object(v.d)(n,"scores",e.ref.id)),i++})),e.next=10,Object(v.a)(Object(v.b)(n,"scores"),{name:s,score:t});case 10:f(!0);case 11:case"end":return e.stop()}}),e)}))))}catch(r){console.log(r)}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){var e=function(){var e=Object(p.a)(h.a.mark((function e(){var t,n,c,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=document.getElementById("scores-table"),10,n=Object(v.g)(),c=Object(v.b)(n,"scores"),r=Object(v.j)(c,Object(v.i)("score"),Object(v.h)(10)),e.next=8,Object(v.f)(r);case 8:e.sent.forEach((function(e){var n=document.createElement("tr"),c=document.createElement("td"),r=document.createElement("td");c.innerHTML=e.data().name,r.innerHTML=y(e.data().score),n.append(c,r),t.append(n)})),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();E&&e()}),[E]),Object(b.jsx)("div",{children:m?Object(b.jsxs)("div",{id:"score-submitted",children:[Object(b.jsx)("h1",{children:"Score Submitted!"}),Object(b.jsx)("button",{id:"play-again-btn",type:"button",onClick:function(){window.location.reload()},children:"Play Again"})]}):E?Object(b.jsxs)("div",{id:"results-leaderboard",children:[Object(b.jsx)("h1",{children:"Leaderboard"}),Object(b.jsx)("table",{id:"scores-table",children:Object(b.jsx)("tbody",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{children:"Name"}),Object(b.jsx)("th",{children:"Time"})]})})}),Object(b.jsx)("button",{id:"results-back-btn",onClick:function(){I(!1)},children:"Back"})]}):Object(b.jsxs)("div",{id:"results-screen",children:[Object(b.jsx)("h1",{children:"Your Time"}),Object(b.jsx)("div",{id:"score",children:y(t)}),a?Object(b.jsxs)("div",{id:"submit-form-container",children:[Object(b.jsx)("div",{id:"high-score-label",children:"New High Score!"}),Object(b.jsxs)("div",{id:"submit-form",children:[Object(b.jsx)("input",{id:"submit-name",type:"text",placeholder:"Name",onChange:function(e){u(e.target.value)}}),Object(b.jsx)("button",{id:"submit-btn",type:"button",onClick:k,children:"Submit"})]}),Object(b.jsxs)("div",{id:"results-btns",children:[Object(b.jsx)("button",{id:"leaderboard-btn",type:"button",onClick:function(){I(!0)},children:"Leaderboard"}),Object(b.jsx)("button",{id:"play-again-btn",type:"button",onClick:function(){window.location.reload()},children:"Play Again"})]})]}):Object(b.jsxs)("div",{id:"results-btns",children:[Object(b.jsx)("button",{id:"leaderboard-btn",type:"button",onClick:function(){I(!0)},children:"Leaderboard"}),Object(b.jsx)("button",{id:"play-again-btn",type:"button",onClick:function(){window.location.reload()},children:"Play Again"})]})]})})},E=n.p+"static/media/game.69200ffb.jpg",I=function(){var e=Object(c.useState)([{id:0,name:"Waldo",found:!1},{id:1,name:"Odlaw",found:!1},{id:2,name:"Wizard",found:!1}]),t=Object(x.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(""),o=Object(x.a)(a,2),i=o[0],d=o[1],s=Object(c.useState)(),u=Object(x.a)(s,2),l=u[0],j=u[1],m=Object(c.useState)(0),f=Object(x.a)(m,2),O=f[0],g=f[1],I=Object(c.useState)(!1),k=Object(x.a)(I,2),B=k[0],S=k[1],L={image:E};Object(c.useEffect)((function(){var e=Date.now();return j(setInterval((function(){var t=Date.now()-e;g(t/1e3)}),1e3)),function(){var e=document.getElementById("message"),t=document.getElementById("timer");e&&e.remove(),t&&t.remove()}}),[]),Object(c.useEffect)((function(){var e=document.getElementById("message");if(!e){var t=document.getElementById("header-title"),n=document.createElement("h3");n.id="message",t.parentNode.insertBefore(n,t.nextSibling)}e&&(e.innerHTML=i)})),Object(c.useEffect)((function(){var e=document.getElementById("timer");if(!e){var t=document.getElementById("header-leaderboard"),n=document.createElement("h3");n.id="timer",t.parentNode.insertBefore(n,t)}e&&(e.innerHTML=y(O))})),Object(c.useEffect)((function(){!function(){var e=!0;n.forEach((function(t){t.found||(e=!1)})),e&&(clearInterval(l),S(!0))}()}),[n,l,O]);var T=function(){var e=Object(p.a)(h.a.mark((function e(t,c,a,o,i){var s,u,b,l,j,m,f,O,p,x,g,y,w,E;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s=Object(v.g)(),u=Object(v.d)(s,"characters",t.toString()),e.next=5,Object(v.e)(u);case 5:b=e.sent,l=document.getElementById("target"),j=getComputedStyle(l),m=parseInt(j.getPropertyValue("width"))/2,f=b.data().x-m,O=b.data().x+m,p=b.data().y-m,x=b.data().y+m,o>f&&o<O&&i>p&&i<x?(d("You found "+b.data().Name+"!"),g=document.getElementById("image-container"),(y=document.createElement("div")).classList.add("marker"),y.innerHTML=b.data().Name,y.style.left=c+"px",y.style.top=a+"px",g.append(y),(w=n.slice())[t].found=!0,r(w)):d("You missed."),E=document.getElementById("dropdown-menu"),l.remove(),E.remove(),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0),console.log(e.t0);case 22:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(t,n,c,r,a){return e.apply(this,arguments)}}();return Object(b.jsxs)("div",{id:"game",children:[Object(b.jsx)("div",{id:"image-container",children:Object(b.jsx)("img",{id:"image",src:L.image,alt:"",onClick:function(e){B||function(e){var t=document.getElementById("image-container"),c=document.getElementById("target"),r=document.getElementById("dropdown-menu");if(c)c.remove(),r.remove();else{var a=document.createElement("div"),o=document.createElement("div");a.id="target",o.id="dropdown-menu",t.append(a,o);var i=getComputedStyle(a),d=parseInt(i.getPropertyValue("width")),s=parseInt(i.getPropertyValue("height")),u=parseInt(i.getPropertyValue("border-left-width")),b=e.clientX+window.pageXOffset,l=e.clientY+window.pageYOffset,j=e.target.getBoundingClientRect(),m=e.clientX-j.left,f=e.clientY-j.top;a.style.top=l-s/2+"px",a.style.left=b-d/2+"px",o.style.top=l+"px",o.style.left=b+d/2+2*u+"px",n.forEach((function(e){var t=document.createElement("div");t.classList.add("dropdown-menu-character"),t.innerHTML=e.name,e.found?t.style.cursor="default":t.addEventListener("click",(function(){T(e.id,b,l,m,f)})),o.append(t)}))}}(e)}})}),B?Object(b.jsx)(w,{elapsedTime:O}):null]})},k=function(){var e=function(){var e=Object(p.a)(h.a.mark((function e(){var t,n,c,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=document.getElementById("scores-table"),10,n=Object(v.g)(),c=Object(v.b)(n,"scores"),r=Object(v.j)(c,Object(v.i)("score"),Object(v.h)(10)),e.next=8,Object(v.f)(r);case 8:e.sent.forEach((function(e){var n=document.createElement("tr"),c=document.createElement("td"),r=document.createElement("td");c.innerHTML=e.data().name,r.innerHTML=y(e.data().score),n.append(c,r),t.append(n)})),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){e()})),Object(b.jsx)("div",{id:"leaderboard",children:Object(b.jsx)("table",{id:"scores-table",children:Object(b.jsx)("tbody",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{children:"Name"}),Object(b.jsx)("th",{children:"Time"})]})})})})},B=function(){var e=function(){if(d&&d.apiKey)return d;throw new Error("No Firebase configuration object provided.")}();return Object(i.a)(e),Object(b.jsxs)(s.a,{children:[Object(b.jsx)(l,{}),Object(b.jsxs)(u.c,{children:[Object(b.jsx)(u.a,{exact:!0,path:"/",element:Object(b.jsx)(f,{})}),Object(b.jsx)(u.a,{exact:!0,path:"/game",element:Object(b.jsx)(I,{})}),Object(b.jsx)(u.a,{exact:!0,path:"/leaderboard",element:Object(b.jsx)(k,{})})]}),Object(b.jsx)(j,{})]})};n(43);o.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(B,{})}),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.9b64f421.chunk.js.map