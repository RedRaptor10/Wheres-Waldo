(this["webpackJsonpwheres-waldo"]=this["webpackJsonpwheres-waldo"]||[]).push([[0],{42:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var c=n(5),r=n.n(c),a=n(33),i=n.n(a),o=n(34),d={apiKey:"AIzaSyD9gc6CERvp2Arq5QmTe12IWdvDha0F5Yo",authDomain:"where-s-waldo-e5ad3.firebaseapp.com",projectId:"where-s-waldo-e5ad3",storageBucket:"where-s-waldo-e5ad3.appspot.com",messagingSenderId:"925971963151",appId:"1:925971963151:web:53e1d7d8f654add671727a"};var s=n(21),u=n(12),l=n(6),b=function(){return Object(l.jsxs)("div",{id:"header",children:[Object(l.jsx)("h1",{id:"header-title",children:Object(l.jsx)(s.b,{to:"/",children:"Where's Waldo?"})}),Object(l.jsx)("h3",{id:"header-leaderboard",children:Object(l.jsx)(s.b,{to:"/leaderboard",children:"Leaderboard"})})]})},j=function(){return Object(l.jsxs)("div",{id:"footer",children:["Created through\xa0",Object(l.jsx)("a",{href:"https://www.theodinproject.com",children:"TheOdinProject"}),"\xa0online course."]})},m=n.p+"static/media/cover.4d907f48.jpg",f=function(){return Object(l.jsxs)("div",{id:"home",children:[Object(l.jsx)("img",{id:"cover",src:m,alt:""}),Object(l.jsx)("div",{id:"play-btn",children:Object(l.jsx)(s.b,{to:"/game",children:"Play Game"})})]})},O=n(0),h=n.n(O),p=n(3),x=n(13),v=n(10),g=function(e){e=parseInt(e,10);var t=Math.floor(e/3600),n=Math.floor((e-3600*t)/60),c=e-3600*t-60*n;return t<10&&(t="0"+t),n<10&&(n="0"+n),c<10&&(c="0"+c),n+":"+c},y=function(e){var t=e.elapsedTime,n=Object(c.useState)(!1),r=Object(x.a)(n,2),a=r[0],i=r[1],o=Object(c.useState)(""),d=Object(x.a)(o,2),s=d[0],u=d[1],b=Object(c.useState)(!1),j=Object(x.a)(b,2),m=j[0],f=j[1],O=Object(c.useState)(!1),y=Object(x.a)(O,2),w=y[0],E=y[1];Object(c.useEffect)((function(){var e=function(){var e=Object(p.a)(h.a.mark((function e(t){var n,c,r,a,i,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=!1,c=10,r=Object(v.g)(),a=Object(v.b)(r,"scores"),i=Object(v.j)(a,Object(v.i)("score"),Object(v.h)(c)),e.next=8,Object(v.f)(i);case 8:return(o=e.sent).docs.length<c?n=!0:o.forEach((function(e){t<e.data().score&&(n=!0)})),e.abrupt("return",!!n);case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}();Object(p.a)(h.a.mark((function n(){return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e(t);case 2:if(!n.sent){n.next=4;break}i(!0);case 4:case"end":return n.stop()}}),n)})))()}));var I=function(){var e=Object(p.a)(h.a.mark((function e(){var n,c,r,a,i,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=Object(v.g)(),c=10,r=Object(v.b)(n,"scores"),a=Object(v.j)(r,Object(v.i)("score"),Object(v.h)(c)),e.next=7,Object(v.f)(a);case 7:return i=e.sent,o=0,i.forEach((function(e){o===c-1&&Object(v.c)(Object(v.d)(n,"scores",e.ref.id)),o++})),e.next=12,Object(v.a)(Object(v.b)(n,"scores"),{name:s,score:t});case 12:f(!0),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){var e=function(){var e=Object(p.a)(h.a.mark((function e(){var t,n,c,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=document.getElementById("scores-table"),10,n=Object(v.g)(),c=Object(v.b)(n,"scores"),r=Object(v.j)(c,Object(v.i)("score"),Object(v.h)(10)),e.next=8,Object(v.f)(r);case 8:e.sent.forEach((function(e){var n=document.createElement("tr"),c=document.createElement("td"),r=document.createElement("td");c.innerHTML=e.data().name,r.innerHTML=g(e.data().score),n.append(c,r),t.append(n)})),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();w&&e()}),[w]),Object(l.jsx)("div",{children:m?Object(l.jsxs)("div",{id:"score-submitted",children:[Object(l.jsx)("h1",{children:"Score Submitted!"}),Object(l.jsx)("button",{id:"play-again-btn",type:"button",onClick:function(){window.location.reload()},children:"Play Again"})]}):w?Object(l.jsxs)("div",{id:"results-leaderboard",children:[Object(l.jsx)("h1",{children:"Leaderboard"}),Object(l.jsx)("table",{id:"scores-table",children:Object(l.jsx)("tbody",{children:Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:"Name"}),Object(l.jsx)("th",{children:"Time"})]})})}),Object(l.jsx)("button",{id:"results-back-btn",onClick:function(){E(!1)},children:"Back"})]}):Object(l.jsxs)("div",{id:"results-screen",children:[Object(l.jsx)("h1",{children:"Your Time"}),Object(l.jsx)("div",{id:"score",children:g(t)}),a?Object(l.jsxs)("div",{id:"submit-form-container",children:[Object(l.jsx)("div",{id:"high-score-label",children:"New High Score!"}),Object(l.jsxs)("div",{id:"submit-form",children:[Object(l.jsx)("input",{id:"submit-name",type:"text",placeholder:"Name",onChange:function(e){u(e.target.value)}}),Object(l.jsx)("button",{id:"submit-btn",type:"button",onClick:I,children:"Submit"})]}),Object(l.jsxs)("div",{id:"results-btns",children:[Object(l.jsx)("button",{id:"leaderboard-btn",type:"button",onClick:function(){E(!0)},children:"Leaderboard"}),Object(l.jsx)("button",{id:"play-again-btn",type:"button",onClick:function(){window.location.reload()},children:"Play Again"})]})]}):Object(l.jsxs)("div",{id:"results-btns",children:[Object(l.jsx)("button",{id:"leaderboard-btn",type:"button",onClick:function(){E(!0)},children:"Leaderboard"}),Object(l.jsx)("button",{id:"play-again-btn",type:"button",onClick:function(){window.location.reload()},children:"Play Again"})]})]})})},w=n.p+"static/media/game.69200ffb.jpg",E=function(){var e=Object(c.useState)([{id:0,name:"Waldo",found:!1},{id:1,name:"Odlaw",found:!1},{id:2,name:"Wizard",found:!1}]),t=Object(x.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(""),i=Object(x.a)(a,2),o=i[0],d=i[1],s=Object(c.useState)(),u=Object(x.a)(s,2),b=u[0],j=u[1],m=Object(c.useState)(0),f=Object(x.a)(m,2),O=f[0],E=f[1],I=Object(c.useState)(!1),k=Object(x.a)(I,2),B=k[0],S=k[1],L={image:w};Object(c.useEffect)((function(){var e=Date.now();return j(setInterval((function(){var t=Date.now()-e;E(t/1e3)}),1e3)),function(){var e=document.getElementById("message"),t=document.getElementById("timer");e&&e.remove(),t&&t.remove()}}),[]),Object(c.useEffect)((function(){var e=document.getElementById("message");if(!e){var t=document.getElementById("header-title"),n=document.createElement("h3");n.id="message",t.parentNode.insertBefore(n,t.nextSibling)}e&&(e.innerHTML=o)})),Object(c.useEffect)((function(){var e=document.getElementById("timer");if(!e){var t=document.getElementById("header-leaderboard"),n=document.createElement("h3");n.id="timer",t.parentNode.insertBefore(n,t)}e&&(e.innerHTML=g(O))})),Object(c.useEffect)((function(){!function(){var e=!0;n.forEach((function(t){t.found||(e=!1)})),e&&(clearInterval(b),S(!0))}()}),[n,b,O]);var T=function(){var e=Object(p.a)(h.a.mark((function e(t,c,a,i,o){var s,u,l,b,j,m,f,O,p,x,g,y,w,E;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s=Object(v.g)(),u=Object(v.d)(s,"characters",t.toString()),e.next=5,Object(v.e)(u);case 5:l=e.sent,b=document.getElementById("target"),j=getComputedStyle(b),m=parseInt(j.getPropertyValue("width"))/2,f=l.data().x-m,O=l.data().x+m,p=l.data().y-m,x=l.data().y+m,i>f&&i<O&&o>p&&o<x?(d("You found "+l.data().Name+"!"),g=document.getElementById("image-container"),(y=document.createElement("div")).classList.add("marker"),y.innerHTML=l.data().Name,y.style.left=c+"px",y.style.top=a+"px",g.append(y),(w=n.slice())[t].found=!0,r(w)):d("You missed."),E=document.getElementById("dropdown-menu"),b.remove(),E.remove(),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0),console.log(e.t0);case 22:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(t,n,c,r,a){return e.apply(this,arguments)}}();return Object(l.jsxs)("div",{id:"game",children:[Object(l.jsx)("div",{id:"image-container",children:Object(l.jsx)("img",{id:"image",src:L.image,alt:"",onClick:function(e){B||function(e){var t=document.getElementById("image-container"),c=document.getElementById("target"),r=document.getElementById("dropdown-menu");if(c)c.remove(),r.remove();else{var a=document.createElement("div"),i=document.createElement("div");a.id="target",i.id="dropdown-menu",t.append(a,i);var o=getComputedStyle(a),d=parseInt(o.getPropertyValue("width")),s=parseInt(o.getPropertyValue("height")),u=parseInt(o.getPropertyValue("border-left-width")),l=e.clientX+window.pageXOffset,b=e.clientY+window.pageYOffset,j=e.target.getBoundingClientRect(),m=e.clientX-j.left,f=e.clientY-j.top;a.style.top=b-s/2+"px",a.style.left=l-d/2+"px",i.style.top=b+"px",i.style.left=l+d/2+2*u+"px",n.forEach((function(e){var t=document.createElement("div");t.classList.add("dropdown-menu-character"),t.innerHTML=e.name,e.found?t.style.cursor="default":t.addEventListener("click",(function(){T(e.id,l,b,m,f)})),i.append(t)}))}}(e)}})}),B?Object(l.jsx)(y,{elapsedTime:O}):null]})},I=function(){var e=function(){var e=Object(p.a)(h.a.mark((function e(){var t,n,c,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=document.getElementById("scores-table"),10,n=Object(v.g)(),c=Object(v.b)(n,"scores"),r=Object(v.j)(c,Object(v.i)("score"),Object(v.h)(10)),e.next=8,Object(v.f)(r);case 8:e.sent.forEach((function(e){var n=document.createElement("tr"),c=document.createElement("td"),r=document.createElement("td");c.innerHTML=e.data().name,r.innerHTML=g(e.data().score),n.append(c,r),t.append(n)})),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){e()})),Object(l.jsx)("div",{id:"leaderboard",children:Object(l.jsx)("table",{id:"scores-table",children:Object(l.jsx)("tbody",{children:Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:"Name"}),Object(l.jsx)("th",{children:"Time"})]})})})})},k=function(){var e=function(){if(d&&d.apiKey)return d;throw new Error("No Firebase configuration object provided.")}();return Object(o.a)(e),Object(l.jsxs)(s.a,{children:[Object(l.jsx)(b,{}),Object(l.jsxs)(u.c,{children:[Object(l.jsx)(u.a,{exact:!0,path:"/",element:Object(l.jsx)(f,{})}),Object(l.jsx)(u.a,{exact:!0,path:"/game",element:Object(l.jsx)(E,{})}),Object(l.jsx)(u.a,{exact:!0,path:"/leaderboard",element:Object(l.jsx)(I,{})})]}),Object(l.jsx)(j,{})]})};n(42);i.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(k,{})}),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.040a1dfc.chunk.js.map